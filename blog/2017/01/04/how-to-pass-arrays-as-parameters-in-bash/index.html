
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Pass Arrays as Parameters in Bash - ssledz blog</title>
  <meta name="author" content="Sławomir Śledź">

  
  <meta name="description" content="Let’s say we have a function in bash which simply iterates through all elements from array and prints them on the standard output. 1
2
3
4
5 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ssledz.github.io/blog/2017/01/04/how-to-pass-arrays-as-parameters-in-bash/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="ssledz blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-66120423-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">ssledz blog</a></h1>
  
    <h2>Everything should be made as simple as possible, but no simpler.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="ssledz.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Pass Arrays as Parameters in Bash</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-01-04T20:34:05+01:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>8:34 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Let’s say we have a function in bash which simply iterates through all elements from array and prints them on 
the standard output.</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">printElems() {
</span><span class="line">  for e in ${arr[@]}; do 
</span><span class="line">    echo $e
</span><span class="line">  done
</span><span class="line">}</span></code></pre></td></tr></table></div></figure>

<p>We can call this function in the following way</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">arr=(el1 el2 el3 el4)
</span><span class="line">printElems</span></code></pre></td></tr></table></div></figure>

<p>If we want to call function with other parameters we need to update arr variable accordingly</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">arr=(el1 el2 el3 el4)
</span><span class="line">printElems
</span><span class="line">arr=(el5 el6 el7 el8)
</span><span class="line">printElems</span></code></pre></td></tr></table></div></figure>

<p>So far so good. But what if we want to make our <code>printElems</code> function generic and put it to the separate file. Is
 it wise 
enough to stay with our solution to maintain <code>arr</code> variable in global scope ? The answer is - it depends on the size
 of 
the project. It is obvious that maintaining global variables is cumbersome in projects which are getting bigger and 
bigger during their lifetime. So that is there any smart way to improve our function to not pollute the global scope ?</p>

<p>The answer is yes, and in this task will help us bash feature called ‘<strong>indirect variable reference</strong>’.</p>

<p>Below is an improved version of <code>printElem</code> function. A new function (<code>printElems2</code>) is not dealing with global 
variable at
 all. In fact the function receives a variable name and thx to the indirect reference operator <code>$(!variable_name)</code>
 the value of the function parameter is set to local variable called <code>my_arr</code>.</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">printElems2() {
</span><span class="line">  local my_arr=${!1}
</span><span class="line">  for e in ${my_arr[@]}; do 
</span><span class="line">    echo $e
</span><span class="line">  done
</span><span class="line">}</span></code></pre></td></tr></table></div></figure>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">arr1=(el1 el2 el3 el4)
</span><span class="line">arr2=(el5 el6 el7 el8)
</span><span class="line">
</span><span class="line">printElems2 arr1[@]
</span><span class="line">printElems2 arr2[@]
</span></code></pre></td></tr></table></div></figure>

<p>More information about ‘indirect variable reference’ feature you 
can find <a href="http://www.tldp.org/LDP/abs/html/ivr.html#IVRREF">here</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Sławomir Śledź</span></span>

      




<time class='entry-date' datetime='2017-01-04T20:34:05+01:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>8:34 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/bash/'>bash</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://ssledz.github.io/blog/2017/01/04/how-to-pass-arrays-as-parameters-in-bash/" data-via="ssledz83" data-counturl="http://ssledz.github.io/blog/2017/01/04/how-to-pass-arrays-as-parameters-in-bash/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/01/04/simple-sbt-setup-for-spark-project/" title="Previous Post: Simple Sbt Setup For Spark Project">&laquo; Simple Sbt Setup For Spark Project</a>
      
      
        <a class="basic-alignment right" href="/blog/2017/08/21/functional-programming-in-bash-introduction-to-fun-dot-sh-library/" title="Next Post: Functional programming in Bash - Introduction to fun.sh library">Functional programming in Bash - Introduction to fun.sh library &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/03/10/option-monad-from-scratch/">Option Monad - From Scratch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/02/17/monads-lunch2learn-session/">Monads - Lunch2Learn Session</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/01/28/about-monads-a-gentle-introduction/">About Monads - a Gentle Introduction</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/01/24/monad-transformers-part-2/">Monad Transformers - Part 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/12/18/monad-transformers-a-quick-recap/">Monad Transformers - a Quick Recap</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Category Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/algorithms' style='font-size: 126.66666666666667%'>algorithms(4)</a> <a href='/blog/categories/automata' style='font-size: 106.66666666666667%'>automata(1)</a> <a href='/blog/categories/bash' style='font-size: 113.33333333333333%'>bash(2)</a> <a href='/blog/categories/certification' style='font-size: 113.33333333333333%'>certification(2)</a> <a href='/blog/categories/context-free-grammar' style='font-size: 106.66666666666667%'>context free grammar(1)</a> <a href='/blog/categories/coursera' style='font-size: 106.66666666666667%'>coursera(1)</a> <a href='/blog/categories/dynamic-programming' style='font-size: 106.66666666666667%'>dynamic programming(1)</a> <a href='/blog/categories/functional-programming' style='font-size: 160.0%'>functional-programming(9)</a> <a href='/blog/categories/git' style='font-size: 106.66666666666667%'>git(1)</a> <a href='/blog/categories/git-svn' style='font-size: 106.66666666666667%'>git-svn(1)</a> <a href='/blog/categories/github' style='font-size: 106.66666666666667%'>github(1)</a> <a href='/blog/categories/hotswap' style='font-size: 106.66666666666667%'>hotswap(1)</a> <a href='/blog/categories/java' style='font-size: 153.33333333333334%'>java(8)</a> <a href='/blog/categories/jvm' style='font-size: 106.66666666666667%'>jvm(1)</a> <a href='/blog/categories/kata' style='font-size: 106.66666666666667%'>kata(1)</a> <a href='/blog/categories/l2l' style='font-size: 126.66666666666667%'>l2l(4)</a> <a href='/blog/categories/learning' style='font-size: 126.66666666666667%'>learning(4)</a> <a href='/blog/categories/linux' style='font-size: 126.66666666666667%'>linux(4)</a> <a href='/blog/categories/mac' style='font-size: 106.66666666666667%'>mac(1)</a> <a href='/blog/categories/monad-transformers' style='font-size: 113.33333333333333%'>monad-transformers(2)</a> <a href='/blog/categories/monads' style='font-size: 133.33333333333334%'>monads(5)</a> <a href='/blog/categories/nas' style='font-size: 106.66666666666667%'>nas(1)</a> <a href='/blog/categories/octopress' style='font-size: 106.66666666666667%'>octopress(1)</a> <a href='/blog/categories/oracle' style='font-size: 113.33333333333333%'>oracle(2)</a> <a href='/blog/categories/pattern' style='font-size: 106.66666666666667%'>pattern(1)</a> <a href='/blog/categories/productivity' style='font-size: 106.66666666666667%'>productivity(1)</a> <a href='/blog/categories/puzzle' style='font-size: 133.33333333333334%'>puzzle(5)</a> <a href='/blog/categories/recursion' style='font-size: 140.0%'>recursion(6)</a> <a href='/blog/categories/review' style='font-size: 120.0%'>review(3)</a> <a href='/blog/categories/scala' style='font-size: 160.0%'>scala(9)</a> <a href='/blog/categories/spark' style='font-size: 106.66666666666667%'>spark(1)</a> <a href='/blog/categories/svn' style='font-size: 106.66666666666667%'>svn(1)</a> <a href='/blog/categories/tmux' style='font-size: 106.66666666666667%'>tmux(1)</a> <a href='/blog/categories/vagrant' style='font-size: 106.66666666666667%'>vagrant(1)</a> <a href='/blog/categories/vim' style='font-size: 106.66666666666667%'>vim(1)</a> <a href='/blog/categories/virtual-box' style='font-size: 113.33333333333333%'>virtual box(2)</a> <a href='/blog/categories/virtualization' style='font-size: 113.33333333333333%'>virtualization(2)</a> </span>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/ssledz">@ssledz</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ssledz',
            count: 10,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>About Me</h1>
  <p>Sławomir Śledź, Senior Scala/Java Developer at <a target="_blank" href="https://www.cloudtechnologies.pl/">Cloud Technologies S.A.</a></p>
</section>

<section>
	<span>
		<img src="http://www.gravatar.com/avatar/ccd7a764d62ec150d1a6c48518835736" alt="Gravatar of Sławomir Śledź " title="Gravatar of Sławomir Śledź" />
	</span>
</section>

<section>
<h1>Stack Overflow</h1>
<a href="http://stackoverflow.com/users/3726554/slavik" target="_blank">
<img src="http://stackoverflow.com/users/flair/3726554.png?theme=clean" width="208" height="58" alt="profile for slavik at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for slavik at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
</a>
</section>


<section>
    <h1>Certificates</h1>
    <div data-iframe-width="250" data-iframe-height="270" data-share-badge-id="58fa8011-f1da-4a68-846c-b869ee04012b"></div>
    <div data-iframe-width="250" data-iframe-height="270" data-share-badge-id="d5492e6e-9cb6-4665-b131-973bf8204190"></div>
    <script type="text/javascript">
        (function() {
            var s = document.createElement('script');
            s.type = 'text/javascript';
            s.async = true;
            s.src = '//www.youracclaim.com/assets/utilities/embed.js';
            var o = document.getElementsByTagName('script')[0];
            o.parentNode.insertBefore(s, o);
        })();
    </script>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - Sławomir Śledź -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ssledz';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ssledz.github.io/blog/2017/01/04/how-to-pass-arrays-as-parameters-in-bash/';
        var disqus_url = 'http://ssledz.github.io/blog/2017/01/04/how-to-pass-arrays-as-parameters-in-bash/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
